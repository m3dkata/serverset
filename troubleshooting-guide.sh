#!/bin/bash
# Troubleshooting Guide / –†—ä–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∑–∞ –æ—Ç—Å—Ç—Ä–∞–Ω—è–≤–∞–Ω–µ –Ω–∞ –ø—Ä–æ–±–ª–µ–º–∏

cat << 'EOF'
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë              –û–¢–°–¢–†–ê–ù–Ø–í–ê–ù–ï –ù–ê –ü–†–û–ë–õ–ï–ú–ò                       ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

üîß –ü–†–û–ë–õ–ï–ú: Coolify –Ω–µ —Å–µ –∑–∞—Ä–µ–∂–¥–∞
   –†–ï–®–ï–ù–ò–ï:
   1. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ Docker: systemctl status docker
   2. –†–µ—Å—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ Coolify: cd /data/coolify && docker compose restart
   3. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –ª–æ–≥–æ–≤–µ—Ç–µ: cd /data/coolify && docker compose logs -f
   4. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –ø–æ—Ä—Ç–∞: ss -tulpn | grep 8000

üîÑ –ü–†–û–ë–õ–ï–ú: RAID –ø–æ–∫–∞–∑–≤–∞ "degraded"
   –†–ï–®–ï–ù–ò–ï:
   1. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ —Å—Ç–∞—Ç—É—Å–∞: cat /proc/mdstat
   2. –ò–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–∞–π—Ç–µ –Ω–µ–∏–∑–ø—Ä–∞–≤–Ω–∏—è –¥–∏—Å–∫: mdadm --detail /dev/md0
   3. –ó–∞–º–µ–Ω–µ—Ç–µ –¥–∏—Å–∫–∞: raid-manager.sh replace
   4. –ò–∑—á–∞–∫–∞–π—Ç–µ rebuild: watch cat /proc/mdstat

üíæ –ü–†–û–ë–õ–ï–ú: Backup –Ω–µ —Ä–∞–±–æ—Ç–∏
   –†–ï–®–ï–ù–ò–ï:
   1. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ backup –¥–∏—Å–∫–∞: df -h /mnt/backup
   2. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ cron: crontab -l
   3. –¢–µ—Å—Ç–≤–∞–π—Ç–µ —Ä—ä—á–Ω–æ: system-backup.sh
   4. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –ª–æ–≥–æ–≤–µ—Ç–µ: tail -f /var/log/system-backup.log

üê≥ –ü–†–û–ë–õ–ï–ú: Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ —Å—Ç–∞—Ä—Ç–∏—Ä–∞
   –†–ï–®–ï–ù–ò–ï:
   1. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –ª–æ–≥–æ–≤–µ—Ç–µ: docker logs CONTAINER_NAME
   2. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ —Ä–µ—Å—É—Ä—Å–∏—Ç–µ: docker stats
   3. –†–µ—Å—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: docker restart CONTAINER_NAME
   4. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –æ–±—Ä–∞–∑–∞: docker images

üåê –ü–†–û–ë–õ–ï–ú: –ú—Ä–µ–∂–æ–≤–∏ –ø—Ä–æ–±–ª–µ–º–∏
   –†–ï–®–ï–ù–ò–ï:
   1. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –≤—Ä—ä–∑–∫–∞—Ç–∞: ping google.com
   2. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ DNS: nslookup google.com
   3. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ firewall: ufw status
   4. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –ø–æ—Ä—Ç–æ–≤–µ—Ç–µ: ss -tulpn

üíø –ü–†–û–ë–õ–ï–ú: –î–∏—Å–∫–æ–≤–æ—Ç–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ —Å–≤—ä—Ä—à–≤–∞
   –†–ï–®–ï–ù–ò–ï:
   1. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ—Ç–æ: df -h
   2. –ù–∞–º–µ—Ä–µ—Ç–µ –≥–æ–ª–µ–º–∏ —Ñ–∞–π–ª–æ–≤–µ: du -sh /* | sort -hr
   3. –ò–∑—á–∏—Å—Ç–µ—Ç–µ Docker: docker system prune -a
   4. –ò–∑—á–∏—Å—Ç–µ—Ç–µ –ª–æ–≥–æ–≤–µ: journalctl --vacuum-time=7d

üîí –ü–†–û–ë–õ–ï–ú: SSH –¥–æ—Å—Ç—ä–ø –±–ª–æ–∫–∏—Ä–∞–Ω
   –†–ï–®–ï–ù–ò–ï:
   1. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ fail2ban: fail2ban-client status sshd
   2. –†–∞–∑–±–ª–æ–∫–∏—Ä–∞–π—Ç–µ IP: fail2ban-client set sshd unbanip YOUR_IP
   3. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ SSH –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ç–∞: /etc/ssh/sshd_config
   4. –†–µ—Å—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ SSH: systemctl restart ssh

‚ö° –ü–†–û–ë–õ–ï–ú: –ë–∞–≤–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç
   –†–ï–®–ï–ù–ò–ï:
   1. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ CPU: htop
   2. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ I/O: iotop
   3. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –º—Ä–µ–∂–∞—Ç–∞: nethogs
   4. –û–ø—Ç–∏–º–∏–∑–∏—Ä–∞–π—Ç–µ: performance-tuning.sh

üîç –û–ë–©–ò –ö–û–ú–ê–ù–î–ò –ó–ê –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê:
   ‚Ä¢ system-info.sh           - –°–∏—Å—Ç–µ–º–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
   ‚Ä¢ verify-setup.sh          - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ç–∞
   ‚Ä¢ dashboard                - –û–±—â —Å—Ç–∞—Ç—É—Å
   ‚Ä¢ journalctl -f            - –°–∏—Å—Ç–µ–º–Ω–∏ –ª–æ–≥–æ–≤–µ
   ‚Ä¢ dmesg | tail             - Kernel —Å—ä–æ–±—â–µ–Ω–∏—è

üìû –ö–û–ì–ê–¢–û –ù–ò–©–û –ù–ï –ü–û–ú–ê–ì–ê:
   1. –ù–∞–ø—Ä–∞–≤–µ—Ç–µ backup: system-backup.sh
   2. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–∞–π—Ç–µ –ø—Ä–æ–±–ª–µ–º–∞
   3. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ /var/log/ –∑–∞ –≥—Ä–µ—à–∫–∏
   4. –†–µ—Å—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º–∞—Ç–∞: sudo reboot
EOF